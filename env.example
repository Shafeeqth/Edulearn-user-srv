# =============================================================================
# EDULEARN COURSE SERVICE ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your environment

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
NODE_ENV=development
SERVICE_NAME=user-service
SERVICE_VERSION=1.0.0
ENVIRONMENT=development
API_PORT=3002
GRPC_PORT=50052

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://postgres:password@localhost:5433/course_service
DB_HOST=localhost
DB_PORT=5433
DB_USERNAME=postgres
DB_PASSWORD=password
DB_DATABASE=course_service
DATABASE_MAX_CONNECTIONS=50
DATABASE_MIN_CONNECTIONS=10
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_IDLE_TIMEOUT=10000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=100
REDIS_MIN_CONNECTIONS=10
REDIS_TTL_DEFAULT=86400
REDIS_KEY_PREFIX=user:

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
KAFKA_BROKER=localhost:9092
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=user-service
KAFKA_CONSUMER_GROUP=user-service-group
KAFKA_MAX_POLL_RECORDS=100
KAFKA_FETCH_MAX_BYTES=5242880
KAFKA_SASL_ENABLED=false
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=
KAFKA_SSL_ENABLED=false

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=1h
JWT_ALGORITHM=HS256

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================

# Jaeger Tracing
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_HOST=localhost
JAEGER_PORT=6831
JAEGER_SAMPLING_RATE=0.1
JAEGER_SAMPLING_TYPE=probabilistic
TRACING_SAMPLING_RATIO=0.1

# Prometheus Metrics
PROMETHEUS_PORT=9092
PROMETHEUS_PATH=/metrics
METRICS_ENABLED=true

# Loki Logging
LOKI_URL=http://localhost:3100
LOKI_USERNAME=
LOKI_PASSWORD=

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/user-service.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=5
LOG_COMPRESS=true

# Tracing Configuration
TRACING_ENABLED=true
TRACING_SERVICE_NAME=user-service

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_PORT=8080
HEALTH_PATH=/health
READINESS_PORT=8081
READINESS_PATH=/ready
LIVENESS_PORT=8082
LIVENESS_PATH=/live

# =============================================================================
# COURSE SPECIFIC CONFIGURATION
# =============================================================================
MAX_COURSE_DURATION=7200
MAX_COURSE_SIZE=1073741824
ALLOWED_VIDEO_FORMATS=mp4,avi,mov,wmv,flv,webm
ALLOWED_DOCUMENT_FORMATS=pdf,doc,docx,ppt,pptx,txt
MAX_COURSE_PRICE=9999.99
MIN_COURSE_PRICE=0.00
COURSE_APPROVAL_REQUIRED=true
COURSE_PUBLISH_DELAY=300

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=52428800
UPLOAD_PATH=./uploads/courses
CLOUDINARY_ENABLED=false
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
AWS_S3_ENABLED=false
AWS_S3_REGION=
AWS_S3_BUCKET=
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_KEY=

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_CHECK_PERIOD=600
CACHE_MAX_KEYS=10000
COURSE_CACHE_TTL=1800
CATEGORY_CACHE_TTL=3600
INSTRUCTOR_CACHE_TTL=1800

# =============================================================================
# SEARCH CONFIGURATION
# =============================================================================
SEARCH_ENABLED=true
SEARCH_INDEX_PREFIX=user
SEARCH_MAX_RESULTS=100
SEARCH_HIGHLIGHT_ENABLED=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
MAX_CONCURRENT_REQUESTS=1000
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000
BODY_PARSER_LIMIT=50mb
COMPRESSION_ENABLED=true

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
NOTIFICATION_ENABLED=true
NOTIFICATION_TOPIC=user-events
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000

# =============================================================================
# PRODUCTION SETTINGS (uncomment and configure for production)
# =============================================================================

# ENVIRONMENT=production
# LOG_LEVEL=warn
# LOG_FORMAT=json

# # Production Database (with SSL)
# DATABASE_URL=postgresql://user:password@prod-db:5432/course_service?sslmode=require
# DB_HOST=prod-db
# DB_PORT=5432
# DB_USERNAME=course_service_user
# DB_PASSWORD=your-secure-password
# DB_DATABASE=course_service

# # Production Redis (with authentication)
# REDIS_URL=redis://:your-redis-password@prod-redis:6379/0
# REDIS_HOST=prod-redis
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# # Production Kafka (with SASL/SSL)
# KAFKA_BROKER=prod-kafka-1:9092,prod-kafka-2:9092,prod-kafka-3:9092
# KAFKA_BROKERS=prod-kafka-1:9092,prod-kafka-2:9092,prod-kafka-3:9092
# KAFKA_SASL_ENABLED=true
# KAFKA_SASL_USERNAME=your-kafka-username
# KAFKA_SASL_PASSWORD=your-kafka-password

# # Production Observability
# JAEGER_ENDPOINT=http://jaeger-collector:14268/api/traces
# JAEGER_HOST=jaeger-collector
# LOKI_URL=http://loki:3100
# PROMETHEUS_PORT=9092

# # Production File Storage
# CLOUDINARY_ENABLED=true
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# # Production Security
# JWT_SECRET=your-super-secure-jwt-secret-key 